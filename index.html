<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Specify our main stylesheet -->
    <link rel="stylesheet" href="css/main.css">
    <link rel="stylesheet" href="css/chess.css">

    <!-- Use CDN to link jQuery library -->
    <script src="https://code.jquery.com/jquery-3.6.0.js" integrity="sha256-H+K7U5CnXl1h5ywQfKtSj8PCmoN9aaq30gDh27Xc0jk=" crossorigin="anonymous"></script>

    <!-- Link to custom jQuery function in js folder -->
    <script src="js/jquery-typewriter.js"></script>
    <script src= "js/chess.js"></script>
    <!-- <script type="module" src="src/web3.js"></script> -->
    <script src="js/defi.js"></script>
    <script data-main="config" src="require.js"></script>
    <!-- <script ></script> -->

    <!-- https://mainnet.infura.io/v3/93498ec03efb4660b6f7fa3adfe9bd98 -->

    <title>Outdated website</title>

</head>

<body>
    <div class="navbar">
        <p class="nav-1">Go to Top</p>
        <p class="nav-1">GPT-J Adventure</p>
        <p class="nav-1">Chess</p>
        <button id="metamask" class="connect">Connect MetaMask</button>
    </div>

    <div id="masthead" style="background-image: url('assets/flame_banner_transparent.PNG');">
        <h1>Time to learn some web development</h1>
        <h2>Lorem ipsum is boring. Let's generate filler text with GPT-J.</h2>
    </div>
    
    <div id="gpt-j">
        <h4>Activity #1: Choose your own GPT-J adventure.</h4>
        <p>A day in the life of a language model.</p>
        <div class="demo" id="ai-text">
            <p> Cat goes meow, dog goes bark, cow goes moo, human goes harrrr!
                I got up in the morning and when I went to turn on the coffee machine I tripped over the hose and got a foot of water running through my kitchen floor. 
                It looks like I am getting a cat hole in the floor… Anyway, the problem is that this is going to put the entire floor through its cycle. 
                I am trying to dry out my floor as much as possible and give it a new coat of finish… But I still need to drive all the kids to school. 
                And I just HATE it when they make so much noise at school…</p>
        </div>

        <div class="choice-containter">
            <div class="box-1">
                <img src="assets/red_arrow_transparent.PNG" id="arrow" class="box-1" alt="A red arrow with transparent background">
                <button type="button" id="clickleft" class="box-1">Take the kids to school.</button>
            </div>
            <div class="box-2">
                <h2>Make a Decision!</h2>
            </div>
            <div class="box-3">
                <img src="assets/red_arrow_transparent.PNG" id="arrow" class="box-3" alt="A red arrow with transparent background" >
                <button type="button" id="clickright" class="box-3">Deal with the flood.</button>
            </div>
        </div>
    </div>

    <div id="chess">
        <h4>Activity #2: Chess</h4>
        <div id="gameboard">

        </div>
        <div id="settings">
            <button id="reset-board">Reset Board</button>
            <button id="flip-board">Flip board</button>
            <button id="Resign">Resign</button>
        </div>
    </div>

    <div id="defi">
        <h4>Activity #3: Simple yield farm</h4>
    </div>
</body>

<!--- Specify function class selector and parameters-->
<script>
    // $(document).ready(function() {
    //     init_web3_provider()
    // });

    $(document).ready(function() {
        $( "#metamask" ).click(function() {
            connect_wallet();
        });
    });

    $(document).ready(function() {
        $('.demo').typewrite({
            'delay': 1,
        });
    });

    $(document).ready(function() {
        $('#gameboard').generate_board({
        });
    });  

    $(document).ready(function() {
        $('#gameboard').populate_board({});
    });  

    $(document).ready(function(){
        var prev_id = undefined
        $( ".piece" ).click(function() {
            $($).unselect_piece({
                'pieceID': prev_id
            });

            pieceInfo = $($).select_piece({
                'pieceID': this.id
            });

            $($).highlight_moves({
                'tileID': pieceInfo[0],
                'pieceClass': pieceInfo[1]
            });

            // console.log(pieceInfo[0])
            // console.log(pieceInfo[1])

            prev_id = pieceInfo[0]
            
        });

    });

    $( "#clickleft" ).click(function() {
        $( "#arrow.box-3" ).animate({
            opacity: 0,
        }, 2000, function() {
            // Animation complete.
        });
        $( "#arrow.box-1" ).animate({
            opacity: 1,
        }, 1000, function() {
            var div = document.getElementById('ai-text');

            let p = document.createElement("p");
            p.style.fontFamily = "Courier New";
            let new_div = div.appendChild(p);
            data = `Okay, let's drive them to school first. And then the floor gets to dry!
                    Note to self: if I ever get in an accident and one of my feet gets pinned, 
                    I will have to start CPR on myself.`;
            $(new_div).append(data).typewrite({
                    'delay': 20,
                });
            // Animation complete.
        });
    });

    $( "#clickright" ).click(function() {
        $( "#arrow.box-3" ).animate({
            opacity: 1,
        }, 1000, function() {
            // Animation complete.
        });
        $( "#arrow.box-1" ).animate({
            opacity: 0,
        }, 2000, function() {
            var div = document.getElementById('ai-text');

            let p = document.createElement("p");
            let new_div = div.appendChild(p);
            data = ' Extra stuff';
            $(new_div).append(data).typewrite({
                    'delay': 20,
                });


        });
    });

    


    /* Failed time delay implementation */

    // function typewrite() {
    //     $(document).ready(function() {
    //         $('.demo').typewrite({
    //             'delay': 1,
    //         });
    //     });
    // }

    // $(document).ready(typewrite);

    // $.when( typewrite() ).done(function() {
    //     var div = document.getElementById('gpt-j');
    //     let ele = document.createElement("div");

    //     ele.id = "choice-container"

    //     let new_div = div.appendChild(ele);

    //     var content = [            
    //         "<div style='padding: 0%;''>",
    //         "    <img src='assets/red_arrow_transparent.PNG' id='arrow' alt='A red arrow with transparent background' class='left'>",
    //         "    <button type='button' class='clickleft leftselect'>Take the kids to school.</button>",
    //         "</div>",
    //         "<div><h2>Make a Decision!</h2></div>",
    //         "<div style='padding: 0%;'>",
    //         "    <img src='assets/red_arrow_transparent.PNG' id='arrow' alt='A red arrow with transparent background' class='right'>",
    //         "    <button type='button' class='clickright rightselect'>Deal with the flood.</button>",
    //         "</div>",
    //         "</div>",
    //         ].join("<br/>");

    //     $(new_div).append(content)
    // });

</script>
</html>